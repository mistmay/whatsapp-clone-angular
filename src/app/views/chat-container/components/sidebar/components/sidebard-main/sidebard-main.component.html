<div *ngIf="(messageList | searchPipe:getSearchedWord()).length > 0; else noConversations" id="conversations-container"
  class="h-100 w-100">
  <div class="conversation w-100 d-flex align-items-center"
    *ngFor="let message of messageList | searchPipe:getSearchedWord()" (click)="onClick(message)">
    <app-avatar></app-avatar>
    <div class="content">
      <div class="d-flex justify-content-between align-items-center w-100">
        <div class="name fw-bold"><span>{{ message.user.username}}</span></div>
        <div class="time"><span>{{ message.messages[message.messages.length - 1].time }}</span></div>
      </div>
      <div class="message w-100 d-flex align-items-center gap-1">
        <svg [ngClass]="message.messages[message.messages.length - 1].isRead ? 'fill-blue' : 'fill-grey'"
          xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-all"
          viewBox="0 0 16 16">
          <path
            d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z" />
        </svg>
        <span>{{ message.messages[message.messages.length - 1].text }}</span>
      </div>
    </div>
  </div>
</div>

<ng-template #noConversations>
  <div class="text-center" id="no-conversations">
    <p>No results</p>
  </div>
</ng-template>
